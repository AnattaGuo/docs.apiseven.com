---
title: 核心概念
slug: /background-information/key-concept
tags:
  - API7 Enterprise
---

![API7 key concept](https://static.apiseven.com/uploads/2023/04/17/JqvOpobJ_key-concept-cn.png)

## 集群

API7 Enterprise 产品中的集群概念，指的是 API7 网关的集群。每一个集群由多个互相协同工作的节点组成，包含多个数据面节点和一个控制面节点。这些节点之间可以相互通信和协调工作，以提供高可用性、高性能和高伸缩性的 API 网关服务。
当用户向 API7 网关集群发送 API 请求时，请求会被路由到可用的数据面节点进行处理。如果某个数据面节点出现故障或不可用，无需手动指定，其他数据面节点会继续处理请求，从而确保系统的稳定性和可靠性。
同一个集群的所有数据面节点读取的是同一份网关配置，执行完全一样的业务逻辑。不同集群之间的配置是隔离的，对当前集群做的修改不会影响其他集群。如果当前集群出现故障，也不会影响其他集群。
每个集群都有不同的对外地址，API 的调用方需要明确自己的请求要发送到哪个 API7 网关集群并使用对应的地址。

## 工作分区

工作分区是指在同一个 API7 网关集群内，将上游、路由/API、消费者、证书、插件模板、全局插件等资源划分为独立的区域或分片，供不同的团队独立管理和维护。通过使用多个工作分区，可以实现 API7 Enterprise 的多租户管理。
工作分区仅仅是对资源的可见性和编辑权限做了划分，并不会影响对 API 的接收、处理和转发。API 的调用者也无需感知工作分区的具体情况。
同一个集群内的所有工作分区，仍然共享了数据面和控制面节点。因此如果节点发生故障，所有工作分区都将受到影响。

## etcd资源

etcd 是 API7 网关存储配置数据的组件，一条 etcd 资源指的就是一个 etcd 集群。如果考虑高可用，建议一个 etcd 集群至少包含三个节点。
不同网关集群的配置数据可以存放在不同etcd集群中，通过资源隔离提升安全性，也可以放在同一个etcd集群中方便统一管理和节约资源。

## 上游

API7 中的上游概念，与 Apache APISIX 中的上游概念保持一致。
[了解什么是上游](https://docs.api7.ai/apisix/key-concepts/upstreams).

## 路由/API

API7 中的路由/ API 概念，与 Apache APISIX 中的路由概念保持一致。

[了解什么是路由](https://docs.api7.ai/apisix/key-concepts/routes).

:::info

请注意 API7 网关集群中的 API 与开发者门户中 API 的概念差别。

:::

## 插件模板

API7 中的插件模板概念，与 Apache APISIX 中的插件模板概念保持一致。

[了解什么是插件模板](https://docs.api7.ai/apisix/key-concepts/plugin-configs).

:::info

请注意 API7 中插件不可直接配置在路由/API 上，必须通过插件模板才可使用。插件模板中的插件数量可以为一个或多个。
消费者可以直接使用单个或多个插件，无需通过插件模板。

:::

## 消费者

API7 中的消费者概念，与 Apache APISIX 中的消费者概念保持一致。
[了解什么是消费者](https://docs.api7.ai/apisix/key-concepts/consumers).

## 数据面节点

又称网关节点，指在网关集群中部署了 API7-Gateway 服务的节点。数据面节点是 API7 的核心组件之一，它负责实际处理所有传入的 API 请求并返回响应。
在生产实践中，建议部署两个以上的数据面节点以防止单点故障。

## 控制面节点

指在网关集群中部署了 API7-Dashboard 服务的节点。主要负责接收 API7 网关的配置修改请求，管理 API7 网关节点的上下线，以及控制流量的转发规则。
在生产实践中，数据面节点和控制面节点分开部署，每个网关集群需要至少一个控制面节点。




