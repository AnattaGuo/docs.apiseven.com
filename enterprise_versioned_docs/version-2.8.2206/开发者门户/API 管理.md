# 名词解释

## API

对应API7网关上的路由。

## 目录

目录一般用于 API 分类，如将属于同一模块或功能相关的 API 放在同一目录下，开发者可以基于目录快速查找 API。每个 API 只能属于一个目录。

** 特殊说明：当前仅支持 `default` 目录，后续将支持新增和管理自定义目录。**

## API 名称

帮助开发者识别并了解 API。

## API 描述

帮助开发者快速了解 API 的作用及注意事项。

## 更新时间

最后一次编辑 API 并成功生效的时间，时区为当前集群所属时区。

## 关联集群/关联路由

API 必须和 API7 网关中已有的路由相关关联。路由所在的集群即为此 API 所关联的集群。开发者门户中的 API 与其关联路由是实时联动的，例如如果在 API7 网关中修改了该路由，或者更换该 API 所关联的路由，则会立刻影响对应 API 的行为和用法。因此当 API 关联的路由发生调整时，请及时修改对应 API 文档并通知订阅的开发者。

## 认证方式

API 的关联路由上如果开启了认证类插件，则需要开发者需要按照对应的方式认证才可调用此 API。

**特殊说明：当前仅支持 `key-auth` 认证方式。**

## API订阅

开发者可以以 `应用 `为主体申请订阅 API。

订阅成功后应用方可调用此 API。如果 API 开启了认证，则应用会获得对应的访问凭证。
对于同一个 API，不同应用的访问凭证是不同的，但对于同一个应用，如果订阅了多个使用同样认证方式的 API，则对应的访问凭证是一样的。如果取消某个应用对当前 API 的订阅，则此应用的访问凭证会失效。

每个应用会映射 API7 网关中的一个消费者（Consumer）；每条 API 订阅成功，会映射为在该 API 的关联路由中，将对应的消费者（Consumer）添加入访问白名单中；取消 API 订阅，会映射为在该 API 的关联路由中，从访问白名单里删除对应的消费者（Consumer）。因此，如果在 API7 网关侧直接更改了 API 关联路由中的访问白名单，会破坏 API 订阅关系，引起错误。

特殊说明：
1. 若API没有开启任何认证，实际上任何应用都可以直接访问，不需要订阅。
2. 暂不支持已经订阅成功的应用更换访问凭证。

## 组织名称

查看开发者管理文档。

## 应用名称

查看应用管理文档。

# 新增 API

使用场景：将一个新的 API 发布到开发者门户，让开发者可以查看 API 介绍与文档，并订阅 API。 
使用限制：API 必须关联 API7 网关中已有的路由，且路由上已配置好必须的插件。新增 API 需要提前准备好 OpenAPI Spec 文档。

操作步骤：
1. 在【API 列表页】，点击「新增 API」按钮；
2. 参照名词解释填写表单；
3. 点击「提交」按钮。

验证方式：
在【API列表页】中可以查看到新增成功的 API。

# 删除 API

使用场景：当 API 下线或者废弃时，删除 API。
使用限制：该操作为高危操作，需要注意
操作步骤：
1. 在【API 列表页】，点击 「删除」 按钮；
2. 确认无误后，点击「删除」按钮。
验证方式：
在【API 列表页】中无法查看到该 API。

# 新增 API 订阅

使用场景：在管理端对应用直接进行 API 订阅，免去审批订阅流程。
使用限制：暂无
操作步骤：
1. 在 【应用列表页面】，选择需要进行 API 订阅的应用，并点击 「查看」按钮；
2. 在应用下的【API 列表页面】，点击 「新增 API」按钮；
3. 在 【订阅 API 页面】，选择需要订阅的 API 并点击 「确定」按钮。
验证方式：
在应用下 【API 列表页面】中，可以查看到新增的 API 订阅条目。

# 取消 API 订阅

使用场景：在管理端对某个应用下的 API 进行取消订阅
使用限制：暂无
操作步骤： 
1. 在 【应用列表页面】，选择需要进行取消 API 订阅的应用，并点击 「查看」按钮；
2. 在应用下的【API 列表页面】，选择 API，点击 「取消订阅」按钮；
3. 在 【订阅 API 页面】，选择需要取消订阅的 API 并点击 「确定」按钮。
验证方式：
在应用下 【API 列表页面】中无法查看该 API 条目。

# 同意 API 订阅申请

使用场景：开发者应用对某条 API 提出订阅申请，管理员同意该应用的订阅申请
使用限制：暂无
操作步骤：
1. 在 【应用列表页面】，选择需要进行 API 订阅审批的应用，并点击 「查看」按钮；
2. 在应用下的【API 列表页面】，选择该 API，点击 「同意」按钮；
3. 确认无误后，点击 「确定」 按钮。
验证方式：
在应用下 【API 列表页面】中该 API 条目显示状态为`同意`。

# 拒绝 API 订阅申请

使用场景：开发者应用对某条 API 提出订阅申请，管理员拒绝该应用的订阅申请
使用限制：暂无
操作步骤：
1. 在 【应用列表页面】，选择需要进行 API 订阅审批的应用，并点击 「查看」按钮；
2. 在应用下的【API 列表页面】，选择该 API，点击 「拒绝」按钮；
3. 确定无误后，点击 「确定」按钮。
验证方式：
在应用下 【API 列表页面】中该 API 条目显示状态为`拒绝`。